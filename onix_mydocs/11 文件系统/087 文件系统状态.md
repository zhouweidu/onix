# 文件系统状态

定义文件访问权限，以及一些相关的宏。

```console
drwxr-xr-x 4 steven root 4.0K Oct 14 00:30 bochs
```

| 条目         | 说明           |
| ------------ | -------------- |
| d            | 表示文件类型   |
| rwx          | 文件所有者权限 |
| r-x          | 组用户权限     |
| r-x          | 其他人权限     |
| 4            | 硬链接数       |
| steven       | 用户名         |
| root         | 组名           |
| 4.0K         | 文件大小       |
| Oct 14 00:30 | 最后修改时间   |
| bochs        | 文件名         |

## 文件类型

- `-` 表示一般文件
- `d` 表示目录文件
- `l` 表示符号链接，或软连接，用于使用一个不同的文件名来引用另一个文件，符号链接可以跨越文件系统，而链接到另一个文件系统的文件上。删除一个符号链接并不影响被链接的文件。此外还有硬链接，硬链接无法跨越文件系统。链接数表示硬连接的数量。
- `p` 命名管道
- `c` 字符设备
- `b` 块设备
- `s` 套接字

minux 的文件信息存储在 `inode.mode` 字段中，总共有 16 位，其中：

- 高 4 位用于表示文件类型
- 中 3 位用于表示特殊标志
- 低 9 位用于表示文件权限

## 参考

1. [赵炯 / Linux内核完全注释 / 机械工业出版社 / 2005](https://book.douban.com/subject/1231236/)
2. <https://www.mkssoftware.com/docs/man1/ls.1.asp>
