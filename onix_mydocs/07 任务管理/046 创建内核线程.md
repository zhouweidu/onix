# 创建内核线程

## 进程控制块

![](./images/task_pcb_01.drawio.svg)

## 内核线程调度

![](./images/setup_task.drawio.svg)

在loader中把esp设置成了0x10000

## ROP

Return Oreiented Programming 面向返回编程

iret 返回到用户态
