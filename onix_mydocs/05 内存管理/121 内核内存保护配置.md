# 内核内存保护配置

## 回顾

- 有问题，欢迎 PR 和 issue

## 配置

在 [内存内核保护](./119%20%E5%86%85%E6%A0%B8%E5%86%85%E5%AD%98%E4%BF%9D%E6%8A%A4.md) 里，我们将用户态的内核内存页的访问权限设置 `.user` 置为了 0，这样可以保证用户态进程访问内核内存时产生一个缺页异常，然后杀死错误进程。

但是，这样就一个缺点就是不便于调试，于是，这里将 `.user` 属性设置为可配置的参数。以便可以容易的调试。vscode里面配置的调试环境只能调试编译好的内核，不能调试自己加载的elf文件。

功能修改：

- 添加 `ONIX_DEBUG` 宏，判断是否是调试状态，然后分别对不同的状态进行处理。
